{%- assign author = site.author -%}

{%- assign description = page.description | default: page.excerpt | default: site.description -%}

{%- assign description = description | markdownify | strip_html | newline_to_br | strip_newlines | replace: '<br />', ' ' | escape_once | strip -%}

{%- assign locale = site.locale | replace: "-", "_" | default: "en_US" -%}

{%- assign site_name = site.title -%}

{%- assign title_plain = page.title | default: site.title | markdownify | strip_html | strip_newlines | escape_once -%}

{%- assign title_separator = '&#124;' -%}

{%- assign title = page.title -%}

{%- assign title = title | append: " " -%}
{%- assign title = title | append: title_separator -%}
{%- assign title = title | append: " " -%}
{%- assign title = title | append: site.title -%}

{%- assign title = title | markdownify -%}
{%- assign title = title | strip_html -%}
{%- assign title = title | strip_newlines -%}
{%- assign title = title | escape_once -%}

{%- assign title = title | default: site.title -%}

{%- assign url = site.url | append: site.baseurl -%}

{%- assign url_canonical = page.url | replace: "index.html", "" | absolute_url %}

<head>
    <title>{{ title }}</title>

    <meta charset="utf-8" />

    <meta name="author" content="{{ author }}" />
    <meta name="description" content="{{ description }}" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta property="article:author" content="{{ author }}" />
    {% if page.last_modified_at %}
    <meta property="article:modified_time" content="{{ page.last_modified_at | date_to_xmlschema }}" />
    {% endif %}
    {% if page.date %}
    <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}" />
    {% endif %}

    <meta property="og:description" content="{{ description }}" />
    <meta property="og:locale" content="{{ locale }}" />
    <meta property="og:site_name" content="{{ site_name }}" />
    <meta property="og:title" content="{{ title_plain }}" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="{{ url_canonical }}" />

    <link rel="canonical" href="{{ url_canonical }}" />

    <link rel="stylesheet" href="{{ '/assets/css/custom-main.css' | relative_url }}" />

    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.0/css/all.min.css" />
    </noscript>

    <script type="application/ld+json">
        {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": {{ site.author | jsonify }},
        "url": {{ site.author_url | jsonify }}
        }
    </script>

    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>